<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tokenika eosc: Tokenika alternative for the EOS *eosc* program</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="tokenika.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Tokenika eosc
   &#160;<span id="projectnumber">0.5</span>
   </div>
   <div id="projectbrief">Tokenika version of the EOS eosc program</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Tokenika alternative for the EOS *eosc* program </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="toc"></a> </p><h2>Table of contents</h2>
<ul>
<li><a href="#rationale">Rationale</a><ul>
<li><a href="#richer">Richer API</a><ul>
<li><a href="#richereos">EOS</a></li>
<li><a href="#richertokenika">Tokenika</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#building">Building</a><ul>
<li><a href="#dependencies">Dependencies</a></li>
<li><a href="#linux">Linux, Mac, ect.</a></li>
<li><a href="#windows">Windows</a></li>
</ul>
</li>
</ul>
<p><a class="anchor" id="rationale"></a> </p><h2><a href="#toc">Rationale</a></h2>
<p>For our work with eos small contracts, we have found that the original EOS <code>eosc</code> interface program is too much restrictive. First, it is hard to be used programmatically in a C++ code. Next, it is quite heavy as it is tightly connected to the whole of the EOS code. Also, it is not ready to be used in the Windows environment, while we plan to open Windows based contract development possibility.</p>
<p>It could be enough for us to develope a minimal C++ library, implementing the commands of the EOS <code>eosc</code>. However, it was a short step to to provide this library with an command line interface.</p>
<p>Finally, to make our work competitive to the original, and for fun, we have added a richer command option list. We dare to hope that this little work of ours could be included to the EOS project.</p>
<p>We already know how to use this richness: it is much ease to make a tool as tokenika <a href="#"><code>eoscBash</code></a> that wraps the EOS <code>eosc</code> for bookkeeping.</p>
<p><a class="anchor" id="richer"></a> </p><h2><a href="#toc">Richer API</a></h2>
<p><a class="anchor" id="richereos"></a> ### <a href="#toc">EOS</a> </p><div class="fragment"><div class="line">./eosc get block -h</div></div><!-- fragment --> <div class="fragment"><div class="line">ERROR: RequiredError: block</div><div class="line">Retrieve a full block from the blockchain</div><div class="line">Usage: ./eosc get block block</div><div class="line"></div><div class="line">Positionals:</div><div class="line">  block TEXT                  The number or ID of the block to retrieve</div></div><!-- fragment --> <div class="fragment"><div class="line">./eosc get block 25</div></div><!-- fragment --> <div class="fragment"><div class="line">{</div><div class="line">  &quot;previous&quot;: &quot;00000018b5e0ffcd3dfede45bc261e3a04de9f1f40386a69821780e063a41448&quot;,</div><div class="line">  &quot;timestamp&quot;: &quot;2017-11-29T09:50:03&quot;,</div><div class="line">  &quot;transaction_merkle_root&quot;: &quot;0000000000000000000000000000000000000000000000000000000000000000&quot;,</div><div class="line">  &quot;producer&quot;: &quot;initf&quot;,</div><div class="line">  &quot;producer_changes&quot;: [],</div><div class="line">  &quot;producer_signature&quot;: &quot;2005db1a193cc3597fdc3bd38a4375df2a9f9593390f9431f7a9b53701cd46a1b5418b9cd68edbdf2127d6ececc4d66b7a190e72a97ce9adfcc750ef0a770f5619&quot;,</div><div class="line">  &quot;cycles&quot;: [],</div><div class="line">  &quot;id&quot;: &quot;000000190857c9fb43d62525bd29dc321003789c075de593ce7224bde7fc2284&quot;,</div><div class="line">  &quot;block_num&quot;: 25,</div><div class="line">  &quot;refBlockPrefix&quot;: 623236675</div><div class="line">}</div></div><!-- fragment --><p><a class="anchor" id="richtokenika"></a> </p><h3>Tokenika</h3>
<div class="fragment"><div class="line">./eosc get block -h</div></div><!-- fragment --> <div class="fragment"><div class="line">Retrieve a full block from the blockchain</div><div class="line">Usage: ./eosc get block [block_num] [Options]</div><div class="line">Usage: ./eosc get block [-j {&quot;block_num_or_id&quot;:*}] [OPTIONS]</div><div class="line"></div><div class="line">Options:</div><div class="line"></div><div class="line">  -n [ --block_num ] arg  Block number</div><div class="line">  -i [ --block_id ] arg   Block id</div><div class="line"></div><div class="line">  -h [ --help ]           Help screen</div><div class="line">  -j [ --json ] arg       Json argument</div><div class="line">  -v [ --received ]       Print received json</div><div class="line">  -r [ --raw ]            Not pretty print</div><div class="line">  -e [ --example ]        Usage example</div></div><!-- fragment --> <div class="fragment"><div class="line">./eosc get block 25</div><div class="line">##         block number: 25</div><div class="line">##            timestamp: 2017-11-29T09:50:03</div><div class="line">##     ref block prefix: 623236675</div></div><!-- fragment --> <div class="fragment"><div class="line">./eosc get block 25 -v</div></div><!-- fragment --> <div class="fragment"><div class="line">{</div><div class="line">    &quot;previous&quot;: &quot;00000018b5e0ffcd3dfede45bc261e3a04de9f1f40386a69821780e063a41448&quot;,</div><div class="line">    &quot;timestamp&quot;: &quot;2017-11-29T09:50:03&quot;,</div><div class="line">    &quot;transaction_merkle_root&quot;: &quot;0000000000000000000000000000000000000000000000000000000000000000&quot;,</div><div class="line">    &quot;producer&quot;: &quot;initf&quot;,</div><div class="line">    &quot;producer_changes&quot;: &quot;&quot;,</div><div class="line">    &quot;producer_signature&quot;: &quot;2005db1a193cc3597fdc3bd38a4375df2a9f9593390f9431f7a9b53701cd46a1b5418b9cd68edbdf2127d6ececc4d66b7a190e72a97ce9adfcc750ef0a770f5619&quot;,</div><div class="line">    &quot;cycles&quot;: &quot;&quot;,</div><div class="line">    &quot;id&quot;: &quot;000000190857c9fb43d62525bd29dc321003789c075de593ce7224bde7fc2284&quot;,</div><div class="line">    &quot;block_num&quot;: &quot;25&quot;,</div><div class="line">    &quot;refBlockPrefix&quot;: &quot;623236675&quot;</div><div class="line">}</div></div><!-- fragment --> <div class="fragment"><div class="line">./eosc get block 25 -v -r</div></div><!-- fragment --> <div class="fragment"><div class="line">{&quot;previous&quot;:&quot;00000018b5e0ffcd3dfede45bc261e3a04de9f1f40386a69821780e063a41448&quot;,&quot;timestamp&quot;:&quot;2017-11-29T09:50:03&quot;,&quot;transaction_merkle_root&quot;:&quot;0000000000000000000000000000000000000000000000000000000000000000&quot;,&quot;producer&quot;:&quot;initf&quot;,&quot;producer_changes&quot;:&quot;&quot;,&quot;producer_signature&quot;:&quot;2005db1a193cc3597fdc3bd38a4375df2a9f9593390f9431f7a9b53701cd46a1b5418b9cd68edbdf2127d6ececc4d66b7a190e72a97ce9adfcc750ef0a770f5619&quot;,&quot;cycles&quot;:&quot;&quot;,&quot;id&quot;:&quot;000000190857c9fb43d62525bd29dc321003789c075de593ce7224bde7fc2284&quot;,&quot;block_num&quot;:&quot;25&quot;,&quot;refBlockPrefix&quot;:&quot;623236675&quot;}</div></div><!-- fragment --> <div class="fragment"><div class="line">./eosc get block -j &#39;{&quot;block_num_or_id&quot;:&quot;56&quot;}&#39;</div><div class="line">##         block number: 56</div><div class="line">##            timestamp: 2017-11-29T10:02:18</div><div class="line">##     ref block prefix: 273573026</div></div><!-- fragment --> <div class="fragment"><div class="line">./eosc get block --example</div></div><!-- fragment --> <div class="fragment"><div class="line">// Invoke &#39;GetInfo&#39; command:</div><div class="line">    ptree getInfoJson;</div><div class="line">    GetInfo getInfo(getInfoPostJson);</div><div class="line">    cout &lt;&lt; getInfo.toStringRcv() &lt;&lt; endl;</div><div class="line"></div><div class="line">/*</div><div class="line">printout:</div><div class="line"></div><div class="line">{</div><div class="line">    &quot;server_version&quot;: &quot;9703495c&quot;,</div><div class="line">    &quot;head_block_num&quot;: &quot;1707240&quot;,</div><div class="line">    &quot;last_irreversible_block_num&quot;: &quot;1707225&quot;,</div><div class="line">    &quot;head_block_id&quot;: &quot;001a0ce87ca6e2d0fc19b8a02e9241c658bea0365f4e6f035ce6602db04611bd&quot;,</div><div class="line">    &quot;head_block_time&quot;: &quot;2017-12-25T14:11:31&quot;,</div><div class="line">    &quot;head_block_producer&quot;: &quot;inito&quot;,</div><div class="line">    &quot;recent_slots&quot;: &quot;1111111111111111111111111111111111111111111111111111111111111111&quot;,</div><div class="line">    &quot;participation_rate&quot;: &quot;1.00000000000000000&quot;</div><div class="line">}</div><div class="line"></div><div class="line">*/</div><div class="line"></div><div class="line">// Use reference to the last block:</div><div class="line">    ptree GetBlockJson;</div><div class="line">    GetBlock_poGetBlockJsont_json.put(&quot;block_num_or_id&quot;,</div><div class="line">      getInfo.get&lt;int&gt;(&quot;last_irreversible_block_num&quot;));</div><div class="line">    GetBlock GetBlock(GetBlock_post_json);</div><div class="line">    cout &lt;&lt; GetBlock.toStringRcv() &lt;&lt; endl;</div><div class="line"></div><div class="line">/*</div><div class="line">printout:</div><div class="line"></div><div class="line">{</div><div class="line">    &quot;previous&quot;: &quot;001a0cd8422216f2828ef5056e9371439f80665cee99d72a5f3162ae7c0495fd&quot;,</div><div class="line">    &quot;timestamp&quot;: &quot;2017-12-25T14:11:16&quot;,</div><div class="line">    &quot;transaction_merkle_root&quot;: &quot;0000000000000000000000000000000000000000000000000000000000000000&quot;,</div><div class="line">    &quot;producer&quot;: &quot;initn&quot;,</div><div class="line">    &quot;producer_changes&quot;: &quot;&quot;,</div><div class="line">    &quot;producer_signature&quot;: &quot;1f382b4fe716f683c8a7ebd15fe5f5266c75a24f75b9b212fc3cc3f7db11f5258b08e5aebc7680784c240e0f8d0ea7540dfb4ab8dcbe5cd8b492876e8f59bb4ea8&quot;,</div><div class="line">    &quot;cycles&quot;: &quot;&quot;,</div><div class="line">    &quot;id&quot;: &quot;001a0cd98eb6f7e0f8e7803b098082b35f1348672561af193ead3d1b1a281bcf&quot;,</div><div class="line">    &quot;block_num&quot;: &quot;1707225&quot;,</div><div class="line">    &quot;ref_block_prefix&quot;: &quot;998303736&quot;</div><div class="line">}</div><div class="line"></div><div class="line">*/</div></div><!-- fragment --> <h2>Library</h2>
<p>For us, real value is the library that runs the <code>tokenika eosc</code>, as we see the original eos library as not practical for our work. We need a light-weight thing, a cross-platform (good for windows) one.</p>
<p>Let you see a code snippet: </p><div class="fragment"><div class="line">#include &lt;stdio.h&gt;</div><div class="line">#include &lt;stdlib.h&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line"></div><div class="line">#include &quot;EoscCommands/eosc_get_commands.hpp&quot;</div><div class="line"></div><div class="line">int main(int argc, char *argv[])</div><div class="line">{</div><div class="line">  using namespace tokenika::eosc;</div><div class="line"></div><div class="line">  ptree getInfoJson;</div><div class="line"></div><div class="line">// Invoke &#39;GetInfo&#39; command:</div><div class="line">  GetInfo getInfo(getInfoPostJson);</div><div class="line">  cout &lt;&lt; getInfo.toStringRcv() &lt;&lt; endl;</div><div class="line"></div><div class="line">  ptree GetBlockJson;</div><div class="line"></div><div class="line">// Use reference to the last block:</div><div class="line">  GetBlockJson.put(&quot;block_num_or_id&quot;,</div><div class="line">    getInfo.get&lt;int&gt;(&quot;last_irreversible_block_num&quot;));</div><div class="line">  GetBlock GetBlock(GetBlock_post_json);</div><div class="line">  cout &lt;&lt; GetBlock.toStringRcv() &lt;&lt; endl;</div><div class="line"></div><div class="line">  return 0;</div><div class="line">}</div></div><!-- fragment --><p> The printout is: </p><div class="fragment"><div class="line">{</div><div class="line">    &quot;server_version&quot;: &quot;9703495c&quot;,</div><div class="line">    &quot;head_block_num&quot;: &quot;1707240&quot;,</div><div class="line">    &quot;last_irreversible_block_num&quot;: &quot;1707225&quot;,</div><div class="line">    &quot;head_block_id&quot;: &quot;001a0ce87ca6e2d0fc19b8a02e9241c658bea0365f4e6f035ce6602db04611bd&quot;,</div><div class="line">    &quot;head_block_time&quot;: &quot;2017-12-25T14:11:31&quot;,</div><div class="line">    &quot;head_block_producer&quot;: &quot;inito&quot;,</div><div class="line">    &quot;recent_slots&quot;: &quot;1111111111111111111111111111111111111111111111111111111111111111&quot;,</div><div class="line">    &quot;participation_rate&quot;: &quot;1.00000000000000000&quot;</div><div class="line">}</div><div class="line"></div><div class="line">{</div><div class="line">    &quot;previous&quot;: &quot;001a0cd8422216f2828ef5056e9371439f80665cee99d72a5f3162ae7c0495fd&quot;,</div><div class="line">    &quot;timestamp&quot;: &quot;2017-12-25T14:11:16&quot;,</div><div class="line">    &quot;transaction_merkle_root&quot;: &quot;0000000000000000000000000000000000000000000000000000000000000000&quot;,</div><div class="line">    &quot;producer&quot;: &quot;initn&quot;,</div><div class="line">    &quot;producer_changes&quot;: &quot;&quot;,</div><div class="line">    &quot;producer_signature&quot;: &quot;1f382b4fe716f683c8a7ebd15fe5f5266c75a24f75b9b212fc3cc3f7db11f5258b08e5aebc7680784c240e0f8d0ea7540dfb4ab8dcbe5cd8b492876e8f59bb4ea8&quot;,</div><div class="line">    &quot;cycles&quot;: &quot;&quot;,</div><div class="line">    &quot;id&quot;: &quot;001a0cd98eb6f7e0f8e7803b098082b35f1348672561af193ead3d1b1a281bcf&quot;,</div><div class="line">    &quot;block_num&quot;: &quot;1707225&quot;,</div><div class="line">    &quot;ref_block_prefix&quot;: &quot;998303736&quot;</div><div class="line">}</div></div><!-- fragment --><p><a class="anchor" id="building"></a> </p><h2><a href="#toc">Building</a></h2>
<p><a class="anchor" id="dependencies"></a> </p><h3><a href="#toc">Dependencies</a></h3>
<p>The only external dependency is the boost. We use the version 1_65.</p>
<p><a class="anchor" id="linux"></a> </p><h3><a href="#toc">Linux, Mac, ect.</a></h3>
<p>CMake build. Starting in the installation directory:</p>
<div class="fragment"><div class="line">mkdir build</div><div class="line">cd build</div><div class="line">cmake ..</div><div class="line">make</div></div><!-- fragment --><p> <a class="anchor" id="windows"></a>l </p><h3><a href="#toc">Windows</a></h3>
<p>There is an MS Visual Studio 17 solution in <code>eos_visual_studio</code> folder. You can start Visual Studio with file <code>eosc.sln</code> there, and you can compile both the command library and `eosc' executable. </p><div class="fragment"><div class="line">...</div><div class="line"></div><div class="line">The VS solution has set both boost includes and libraries in relation to the `BOOST_ROOT` environmental variable: Configuration Properties &gt; VC++ Directories. Perhaps, you will have to adjust settings.</div><div class="line"></div><div class="line">Now, the blockchain may be accessed from a Windows Command Prompt.</div></div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
